<div class="main">
    <div class="align-right"><mat-checkbox [(ngModel)]="enableDragAndDrop" (ngModelChange)="enableDragAndDropChange()">Enable Drag and Drop</mat-checkbox></div>
    <div cdkDropListGroup>
        <div
            cdkDropList
            cdkDropListData="build"
            (cdkDropListDropped)="drop($event)">
            <h2>Build Commands</h2>
            <div class="description">When using odo, a Build command is the first command executed during the inner loop. The command is expected to terminate after the build is completed.</div>
            <app-commands-list kind="build" [dragDisabled]="!enableDragAndDrop" [commands]="commands"></app-commands-list>
        </div>
        <div 
            cdkDropList
            cdkDropListData="run"
            (cdkDropListDropped)="drop($event)">
            <h2>Run Commands</h2>
            <div class="description">When using odo, a Run command is executed during the inner loop after the Build command terminates. The command is expected to not terminate.</div>
            <app-commands-list kind="run" [dragDisabled]="!enableDragAndDrop" [commands]="commands"></app-commands-list>
        </div>
        <div 
            cdkDropList
            cdkDropListData="test"
            (cdkDropListDropped)="drop($event)">
            <h2>Test Commands</h2>
            <app-commands-list kind="test" [dragDisabled]="!enableDragAndDrop" [commands]="commands"></app-commands-list>
        </div>
        <div 
            cdkDropList
            cdkDropListData="debug"
            (cdkDropListDropped)="drop($event)">
            <h2>Debug Commands</h2>
            <div class="description">When using odo, a Debug command is executed during the inner loop after the Build command terminates. The command is expected to not terminate.</div>
            <app-commands-list kind="debug" [dragDisabled]="!enableDragAndDrop" [commands]="commands"></app-commands-list>
        </div>
        <div 
            cdkDropList
            cdkDropListData="deploy"
            (cdkDropListDropped)="drop($event)">
            <h2>Deploy Commands</h2>
            <div class="description">When using odo, a Deploy command is executed with <code>odo deploy</code>.</div>
            <app-commands-list kind="deploy" [dragDisabled]="!enableDragAndDrop" [commands]="commands"></app-commands-list>
        </div>
        <div 
            cdkDropList
            cdkDropListData=""
            (cdkDropListDropped)="drop($event)">
            <h2>Generic Commands</h2>
            <div class="description">Generic can be executed manually, or be part of composite commands.</div>
            <app-commands-list kind="" [dragDisabled]="!enableDragAndDrop" [commands]="commands"></app-commands-list>
        </div>
    </div>
    <app-command-exec (canceled)="undisplayExecForm()" *ngIf="forceDisplayExecForm"></app-command-exec>
    <app-command-apply (canceled)="undisplayApplyForm()" *ngIf="forceDisplayApplyForm"></app-command-apply>
    <app-command-image (canceled)="undisplayImageForm()" *ngIf="forceDisplayImageForm"></app-command-image>
    <app-command-composite (canceled)="undisplayCompositeForm()" *ngIf="forceDisplayCompositeForm"></app-command-composite>

    <ng-container *ngIf="!forceDisplayExecForm && !forceDisplayApplyForm && !forceDisplayImageForm && !forceDisplayCompositeForm">
        <button data-cy="new-command-exec" mat-flat-button (click)="displayExecForm()">Add an Exec Command</button>
        <button data-cy="new-command-apply" mat-flat-button (click)="displayApplyForm()">Add an Apply Command</button>
        <button data-cy="new-command-image" mat-flat-button (click)="displayImageForm()">Add an Image Command</button>
        <button data-cy="new-command-composite" mat-flat-button (click)="displayCompositeForm()">Add a Composite Command</button>
    </ng-container>
</div>
